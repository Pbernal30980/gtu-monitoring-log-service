version: '3.8'
services:
  
  #rabbitmq:
  #  image: rabbitmq:3-management
  #  environment:
  #    RABBITMQ_DEFAULT_USER: admin
  #    RABBITMQ_DEFAULT_PASS: password
  #  ports: ["5672:5672","15672:15672"]
  #  networks:
  #    - shared_network

  gtu-log-service:
    build: .
    environment:
      - SPRING_RABBITMQ_HOST=${SPRING_RABBITMQ_HOST}
      - SPRING_RABBITMQ_PORT = 5672
      - SPRING_RABBITMQ_USERNAME=${SPRING_RABBITMQ_USERNAME}
      - SPRING_RABBITMQ_PASSWORD=${SPRING_RABBITMQ_PASSWORD}
      - SPRING_DATA_MONGODB_URI=${SPRING_DATA_MONGODB_URI}
      - SERVER_PORT = 0
    networks:
      - shared_network

networks:
  shared_network:
    external: true
